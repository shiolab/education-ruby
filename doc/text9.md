## 9. 演習（英単語ゲームを作ろう）

-----
まとめとして「英単語ゲーム」を作ってみましょう。


<br />
### 9-1. プログラムを作成するファイルを開きます

💁 デスクトップにある「Atom」をダブルクリックして、立ち上がったら、「main.rb」を開きます。

💁 起動が遅いかもしれないので、のんびり待ちましょう。

🕵 「Atom」はプログラムを作成するアプリケーションで、「エディタ」といいます。


<br />
### 9-2. プログラムを実行するターミナルを開きます

💁 デスクトップにある「LXTerminal」をダブルクリックして、立ち上がったら、次のコマンドを入力しましょう。入力が終わったら「Enter」キーを押してください。

```
ruby education/ruby/main.rb
```

🕵 この画面を「ターミナル」といいます。

🕵 今日はこのコマンドを何回も入力します。「↑」キーを押すと過去に入力したコマンドを呼び出すことができます。

💁 ターミナルに以下が表示されていることを確認してください。

```
英単語ゲームスタート！stopと入力したら中断します。
```

<br />
### 9-3. 変数を準備します

💁 ここから本格的にプログラムをはじめます。

💻 `words` というハッシュを作ります。ハッシュには、

 * キー「apple」に対して「りんご」
 * キー「dog」に対して「犬」

を入れましょう。


<br />
### 9-4. 繰り返し処理を作ります

💁 定義した `words` に対する処理を作ります。

💻 キーを変数 `key`、 値を変数 `value` として、ハッシュ `words` の `each` メソッドを作ってください。

💻 繰り返しの中で、値の変数 `value` を使って「◯◯に対応する英単語を入力してください」と表示しましょう。

🕵 `value` を使った表示は以下のように書きます。これを式展開といいます。

```
puts "#{value}に対応する英単語を入力してください。"
```

<br />
### 9-5. 値を受け取ります

💁 キーボードから入力された値を受け取るようにします。

💻 繰り返しの中で、変数 `answer` に `gets.chomp` で受け取った値を代入してください。

🕵 キーボードからの入力は `gets` メソッドで受け取ります。 `chomp` メソッドは改行コードを除く処理をします。


<br />
### 9-6. 分岐処理を作ります

💁 入力された値による条件分岐をおこないます。

💻 `answer` の値によって条件分岐してください。条件分岐には `if` ... `elsif` ... `else` ... `end` を使用してください。
	
 * `answer` が 「stop」と等しい時は、繰り返しを抜けるようにしてください。

 * `answer` が `key.to_s` と等しい時は、「正解です」を表示してください。

 * それ以外は、「不正解です」を表示してください。

🕵 繰り返しを抜けるのは `break` です。

🕵 `answer` と比較する `key` は文字列での比較とするために `.to_s` メソッドを使って以下のように書きます。

```
  elsif answer == key.to_s
```

<br />
### 9-7. 正解率を計算するための変数を準備します

💁 処理の最後に正解率を表示してみましょう。

💻 `words`ハッシュの下に、質問数を入れる変数 `loop_count` と、正解数を入れる変数 `correct_count` を定義し、それぞれ 0 を代入してください。

🕵 このように、最初に値を入れておく処理を「初期化」といいます。


<br />
### 9-8. 変数に値を入れます

💻 条件分岐の正解の場所で、`correct_count` に 1 を足します。

💻 `words`ハッシュの繰り返し処理の最後の場所で、`loop_count` に 1 を足します。

🕵 1 を足す方法はいくつかあります。


<br />
### 9-8. メソッドを定義します

💁 正解率の計算はメソッドにしましょう。

💻 ファイルの一番下に `percentage` というメソッドを作ります。

💻 メソッドには引数として `correct_count` `loop_count` を渡します。

💻 正解率を計算し、結果を戻り値として戻しましょう。


<br />
### 9-9. メソッドを呼び出しましょう

💁 メソッドを呼び出し、正解率を表示しましょう。

💻 `percentage` メソッドの戻り値を、変数 `p` に代入します。変数 `p` を使って、「あなたの正解率は◯◯パーセントです」と表示してください。


<br />
### 9-10. 完成したら

💁 ハッシュの中身を増やしたり、メッセージを変えたり、してみましょう。

